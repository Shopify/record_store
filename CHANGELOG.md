# CHANGELOG

## 8.0.1
- Fix Cloudflare provider to handle paginated returns from API

## 8.0.0
- Remove api_fqdn from Cloudflare provider config

## 7.1.1
- Bugfix: Cloudflare provider now handles empty record sets properly

## 7.1.0
- Add Cloudflare as a supported DNS provider

## 7.0.1
- Allow an underscore in the middle of a CNAME record

## 7.0.0
- Validate that there are no A/AAAA record conflicts with ALIAS records

## 6.7.2
- Fix ActiveModel::Error usage for validate_records (behaviour change in ActiveModel 7)

# 6.7.1
- Change update_record to update_zone_record for DNSimple

## 6.7.0
- Update dependencies like dnsimple, thor, ruby-limiter

## 6.6.0
- Update ruby version

## 6.5.11
- Fix updates of SRV records in using the NS1 provider

## 6.5.10
- print the full error for ActiveModel::Error errors

## 6.5.9
- Relax version requirements for the google-cloud-dns gem

## 6.5.5
- Include DNSimple validation error details in exceptions

## 6.5.4
- Updates config path structure for build pipeline

## 6.5.3
- Adds check for detecting shadowed records, used when a record being added to a zone in record-store will have no effect because it is shadowed by another record.

## 6.5.2
- Ensure filters for implicit_records, `except_record` and `conflict_with`, are truly optional [BUGFIX]

## 6.5.1

Add support for a new parameter in the implicit records templates:

- `except_record`: the template will *NOT* generate the `injected_records` for records matching `except_record`, even if they matched `each_record`.

Also added support for regular expressions in the matching, using the already available `!ruby/regexp` text in a YAML value. The object loaded from the YAML
will be of `Regexp` type, and will thus be used to _match_ the value, instead of being identical only. This is supported in both `except_record` and
`each_record` fields.

## 6.5.0

...

## 6.4.0

Add support for injecting implicit records into a zone based on a pre-configured template. Brief overview of template keys:

- `each_record`: the template will generate all `injected_records` in the template for each Record in the Zone that matches criteria listed here.
- `conflict_with`: if any Record in the Zone matches the criteria listed here, the template will avoid injecting any of its generated implicit records into the zone
- `injected_records`: the implicit records that will be generated by the template for every Zone Record that matches the `each_record` criteria

## 6.3.1
- Improve resiliency in the face of temporary provider outages [BUGFIX]

## 6.3.0
- Support for configurable number of threads via environment variable [FEATURE]

## 6.2.1
- Improved error reporting after timeouts [FEATURE]

## 6.2.0
- Add validation for non-terminal conflict with wildcard [FEATURE]

## 6.1.2
- Retry on connection errors [FEATURE]

## 6.1.1
- Emit messages when waiting for rate-limit to elapse for DNSimple and NS1 providers, so deployment does not timeout [BUGFIX]

## 6.1.0
- sort zone files [FEATURE]
- CLI support for specifying zones for validate_authority [FEATURE]
- retry failed lookup using another nameserver if unreachable [BUGFIX]
- ignore records other than NS in authority section [BUGFIX]

## 6.0.1
- add API rate limiting to DNSimple provider [FEATURE]

## 6.0.0
- add `--all` option for `record-store diff` to compare ignored records too [FEATURE]

## 5.11.0
- support PTR record type [FEATURE]

## 5.10.0
- add `record-store validate_authority` command to sanity check delegation [FEATURE]
- fix handling of NXDOMAIN, etc. when fetching authoritative nameservers [BUGFIX]

## 5.9.0
- add `--all` option for `record-store list` to list ignored records too [FEATURE]
- add `record-store info` command to list providers and delegation for zones [FEATURE]

## 5.8.0
- support SSHFP record type [FEATURE]

## 5.7.4
- NS1: changing the way long TXT records are processed (no more splitting to do on our side) [BUGFIX]

## 5.7.1
- add API rate limit for NS1 provider [FEATURE]

## 5.7.0
- add OCI library as runtime dependency [FEATURE]

## 5.6.0
- add OCI provider [FEATURE]

## 5.5.4
- add long TXT record support (with quotes around 255 char long strings, depending on provider) [FEATURE]

## 5.5.3
- add NS1 provider [FEATURE]

## 5.4.3
- use fog-dynect 0.4.0 to avoid version override [REFACTOR]

## 5.4.2
- use Dyn API version 3.7.13 (instead of 3.7.0) to get CAA support [BUGFIX]

## 5.4.1
- case-insensitivity for CAA value validation [BUGFIX]

## 5.4.0
- add support for CAA records [FEATURE]

## 5.3.0
- case insensitivity for fqns (force to lowercsase) [FEATURE]

## 5.2.2
- support regex based ignore patterns [FEATURE]

## 5.2.1
- remove alias at domain root validation

## 5.2.0
- limit request rate for DynECT API to avoid 429 errors [FEATURE]

## 5.1.1
- allow underscore in CNAME as per RFC [BUGFIX]

## 5.1.0
- use concurrent sessions when multi-threaded to avoid "This session already has a job running" errors. [BUGFIX]

## 5.0.5
- Output progress messages for GoogleCloudDNS provider too. [BUGFIX]
- Fix quoting/escaping for TXT records. [BUGFIX]
- Make implementation-specific methods of Provider private. [REFACTOR]
- DRY up SPF support to use TXT superclass implementation. [REFACTOR]

## 5.0.4
- Replaces fog-dnsimple with dnsimple-ruby gem. [REFACTOR]

## 5.0.0
- Use DNSimple API v2 (via fog-dnsimple gem update).

## 4.0.7
- Fix issue updating records with same FQDN. [BUGFIX]
